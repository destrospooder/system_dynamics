{"title":"The First Order","markdown":{"headingText":"The First Order","containsRefs":false,"markdown":"\n## Preface {-}\n\nWe'll grow more accustomed to the idea of analogical models after modeling a few simple systems. Let's start by throwing out some fundamental systems and developing intuition to dive into simplified models.\n\n* Emptying a water tank\n* Cooling of a lightbulb\n* Discharge of an RC circuit\n\n## Gradients Make Stuff Flow\n\nA cylindrical tank has a cross-sectional area of $A$, and an outflow rate of $Q_\\text{out}$. The height of the fluid is defined by the function $h(t)$. The pressure outside the tank is $P_{\\infty}$, and the fluid has a density of $\\rho$. Can we derive a governing equation for this system in terms of $\\Delta P = P - P_{\\infty}$, where $P(t)$ is the pressure at the bottom of the tank?\n\n![](figs/2_tank.png){width=65% fig-align=\"center\"}\n\nFirst off, because the tank is cylindrical, it's apparent that the volume $V(t)$ of water in the tank is proportional to the value of $h(t)$.\n\n$$V(t) = A h(t)$$\n\nBecause of conservation of mass, we know the rate at which the volume is changing is the difference between the inflow and the outflow.\n\n$$\\frac{d}{dt} V(t) = \\dot{V} = 0 -Q_\\text{out} = -Q_\\text{out} \\tag{1}$$\n\nThat's not very useful yet. Let's leverage some prior circuits knowledge here...charge moves because of a voltage difference $\\Delta V$, and comparably, fluid moves because of a pressure difference.^[Note that $V$ here refers to voltage, and not volume as previously defined. This contingency also holds true for Ohm's law as defined below.] Ohm's law! We'll come back to that, but the main takeaway here is that the volumetric outflow $Q_\\text{out}$ is related to the difference between the pressure inside the tank $P(t)$ and the atmospheric pressure $P_\\infty$ by a \"resistance\" value $R$.\n\nThat circuits analogy comes in handy really often, because it turns out Ohm's law translates directly into fluid flow.\n\n$$\\Delta V = V - V_0 = IR$$\n$$\\Delta P = P(t) - P_\\infty = Q_\\text{out} R \\tag{2}$$\n\nThese are called **constitutive equations**, or relationships between physical quantities that establish a connection between a material's internal response (like stress, strain, or deformation) and the external factors that influence it (like temperature, pressure, or applied loads). \n\nWe'll generalize a bit soon, but for now I understand if you don't get it. It's still very hand-wavey.\n\nLet's leverage some hydrostatics now. Assuming the tank is open to the atmosphere at the top, we can derive an expression for $\\Delta P$ using the hydrostatic pressure equation $\\Delta P = \\rho g \\Delta h$.\n\n$$\\Delta P = P(t) - P_\\infty = \\rho g \\left(h(t) \\right) = \\frac{\\rho g V}{A}\\tag{3}$$\n\nDifferentiating equation (3) yields the following.^[Note that the derivative of $\\Delta P$ is equal to the derivative of $P(t)$, because $P_\\infty$ is constant.]\n\n$$ \\Delta \\dot{P}  = \\frac{\\rho g \\dot{V}}{A} $$\n\nUsing equations (1) and (2), we can manipulate this equation into a differential equation in terms of pressure differences.\n\n$$ \\Delta \\dot{P} = \\frac{\\rho g \\left(- Q_\\text{out} \\right)}{A} = \\frac{- \\rho g \\Delta P}{A R}$$\n\n$$\\Delta \\dot{P} + \\frac{\\rho g}{A R} \\Delta P = 0$$\n\n$$R \\left( \\frac{A}{\\rho g}\\right) \\Delta \\dot{P} + \\Delta P = 0$$\n\nThis is a neat little differential equation. It looks like the equation for an RC circuit if you've seen those before, with the voltage differences swapped out for pressure differences. To really drive this comparison home, we define a \"capacitance\" $C = \\frac{A}{\\rho g}$ and slot it into our governing equation.\n\n$$\\boxed{RC \\Delta \\dot{P} + \\Delta P = 0}$$\n\nPerfect. Note that this isn't the only possible governing equation of the system - it's also possible to find a differential equation in terms of volume $V(t)$. Give it a go!\n\nLet's move onto a second example: the cooling of a lightbulb. When we shut off power to the lightbulb, how can we measure its temperature as it cools to room temperature?\n\n![](figs/2_bulb.png){width=65% fig-align=\"center\"}\n\nThe bulb is initially very hot (with temperature $T$) compared to its environment (which has temperature $T_\\infty$). Heat is flowing outwards at $q_\\text{out}$. This is seeming very familiar...a temperature difference is driving heat to leave through the resistance $R$ of the bulb.\n\nLet's go through the steps again. Energy's being conserved here, so we use the capacitive relationship relating accumulated heat $Q$ and temperature $T$ from ESC330:\n\n$$ Q = C \\Delta T$$\n\nDifferentiate across the board...\n\n$$ \\dot{Q} = -q_\\text{out} = C \\Delta \\dot{T} $$\n\nAnd now we're just chugging through the motions. Next is another constitutive relationship (which looks shudderingly close to Ohm's law!):\n\n$$\\Delta T = T - T_\\infty = q_\\text{out} R$$\n\nWe combine the last two equations and construct:\n\n$$\\boxed{RC \\Delta \\dot{T} + \\Delta T = 0}$$\n\nWhich surprisingly, just looks like the equation from the first problem. \n\nOk, one more problem. Say we have an RC circuit - specifically, the variant where a resistor and a fully charged capacitor are connected in series without a attached voltage source.\n\n![](figs/2_circ.png){width=65% fig-align=\"center\"}\n\nAs we've done twice before, we leverage physical principles to generate a governing equation for this system. Let's start with conservation of charge:\n$$\\dot{q} = -I_\\text{out}$$\n\nNext, Ohm's law:\n$$\\Delta V = I_\\text{out} R = -\\dot{q} R$$\n$$\\dot{q} = -\\frac{\\Delta V}{R}$$\n\nFinally, we deal in the capacitive relationship:\n$$q = C\\Delta V$$\n\nManipulating these equations as we did before yields the following governing equation:\n\n$$C \\Delta \\dot{V} = -\\frac{\\Delta V}{R}$$\n$$\\boxed{RC \\Delta \\dot{V} + \\Delta V = 0}$$\n\nAll right, so all of these equations look really similar. What can we take away from this? \n\n**Gradients make stuff flow.**\n\nThat's a really powerful statement...to those who understand it. Let's go through it piece by piece.\n\nWe define a **gradient** as a change in the magnitude of a potential observed at two different points. Some examples of potentials are:\n\n- Temperature\n- Voltage\n- Displacement\n- Species concentration\n\nWhen a potential difference exists, \"stuff\" has a tendency to move. For example, when a temperature difference exists across a structure, heat will flow through it.\n\n\"Stuff\" isn't the greatest word for something like this, (maybe \"quantity\" instead?) but to the best of my knowledge, a better word doesn't exist. We define \"stuff\" as something that can be stored, like charge in a capacitor, or fluid in a tank, or heat in a reservoir. \n\nBy generalizing these quantities, we can create widely applicable rules for modeling first order systems without having specific knowledge about the underlying physics.\n\n$$\\text{Stuff} = \\text{Capacitance} \\times \\text{Gradient}$$\n$$\\text{Gradient} = \\text{Flow of Stuff} \\times \\text{Resistance}$$\n\nAlso conservation. That's a big one.\n$$\\text{Rate of Change of Stuff} = \\text{Inflow} - \\text{Outflow}$$\n\n## The Time Constant\n\nAll of the governing equations we've derived thus far have been of the form $\\tau \\dot{y} + y = 0$. This form, also called the **canonical form**, is useful for understanding the behavior of the dynamic system.\n\nTo solve this differential equation, we'll guess a solution $y(t) = ce^{\\alpha t}$, find its time derivative $\\dot{y}(t) = \\alpha ce^{\\alpha t} = \\alpha y$, and plug in.\n\n$$\\tau \\dot{y} + y = 0$$\n$$\\tau \\alpha e^{\\alpha t} + e^{\\alpha t} = 0$$\n$$(\\tau \\alpha + 1) \\; e^{\\alpha t} = 0$$\n$$\\alpha = -\\frac{1}{\\tau}$$\n$$y(t) = ce^{-\\frac{t}{\\tau}}$$\n\nLet's toss in an initial condition $y(0)=y_0$ to get rid of that unknown constant.\n\n$$y(t) = y_0 \\; e^{-\\frac{t}{\\tau}}$$\n\nWe call $\\tau$ the **time constant** of the system.^[Note that $\\tau = RC$ always has units of time.] The time constant of a system is used to describe how quickly the system response grows or decays. The smaller the time constant, the faster the decay. \n\n![](figs/2_tc.png){width=75% fig-align=\"center\"}\n\nSo what happens when we set $t=\\tau$?\n\n$$y(\\tau) = y_0 e^{-\\frac{\\tau}{\\tau}} = y_0 e^{-1}$$\n\nThe time constant is the time at which the system response has decayed to $y_0 e^{-1}$, or approximately 37\\% of its initial value.^[Or alternatively, \"the time constant is the time at which the system response has lost approximately 63% of its initial value\".]\n\n## Let's Throw in an Input\n\nWe return to the RC circuit, but this time, let's say there *is* a voltage source with voltage $V_\\text{s}$. The capacitor initially has a voltage of $V_0$, and as time passes, it will charge up through the resistor until it reaches the supply voltage of the source. (We define the voltage across the capacitor as $V_c(t)$.)\n\n![](figs/2_circ2.png){width=65% fig-align=\"center\"}\n\nTo expedite calculations, we'll use Kirchhoff's current law to find a governing equation for this scenario.\n\n$$ C \\dot{V_c} + \\frac{V_c - V_s}{R} = 0 $$\n$$ RC \\dot{V_c} + V_c = V_s $$\n\nThat's...different. This equation is no longer homogeneous, meaning we can't rely on our exponential function guess method anymore. We'll have to use more specialized methods from Ma240 instead of guessing and praying, like the method of undetermined coefficients or the Laplace transform if initial conditions are provided.\n\nA more general form of this governing equation for one of these systems is:\n\n$$\\tau \\dot{y} + y = u$$\n\nwhere $u$ represents a general input, constant or otherwise. For example, in the case that the voltage source is an alternator, $V_s$ could be a sinusoidal function rather than a constant.\n\nThis feels like a good time to introduce the concept of the **unit step function**, which I'll denote $u_s(t)$. The unit step function is defined as follows:^[We don't care about what happens at $t=0$. Stop it.]\n\n\n\\begin{equation*}\n        u_s(t) = \\begin{cases}\n                        1 &t>0 \\\\\n                        0 &t<0\n                    \\end{cases}\n\\end{equation*}\n\nThe unit step function is useful for physical modeling because it can be used to model situations where something changes rapidly from one value to another. For example, the unit step function can be used to model turning on a light switch at time.\n\nA general form of the governing equation when the input is constant is:\n\n$$\\tau \\dot{y} + y = ku_s$$\n\nwhere $k$ is a scale factor. Solving this equation yields:\n\n$$y(t) = ce^{-\\frac{t}{\\tau}} + k$$\n\nFor the initial condition $y(0) = y_0$, the undetermined coefficient $c=y_0 - k$. Here's our updated solution:\n\n$$y(t) = y_0 e^{-\\frac{t}{\\tau}} + k(1-e^{-\\frac{t}{\\tau}})$$\n\nWhen we graph this function for $y_0 = 0$, we see that it gradually grows towards $y=k$ as $t\\to\\infty$. Now we can analyze exponential growth. You see this behavior everywhere, like when you change a thermostat setting and the temperature slowly creeps towards your choice. This is what we call a **step response**.\n\nHow could we find the time constant of this response? Let's take a look at what happens to $y(t)$ at $t=\\tau$.\n\n$$y(\\tau) = y_0 e^{-\\frac{\\tau}{\\tau}} + k(1-e^{-\\frac{\\tau}{\\tau}})= y_0 e^{-1} + k(1-e^{-1})$$\n\nWhen we set $y_0 = 0$, this further simplifies to:\n\n$$y(\\tau) = k(1-e^{-1}) \\approx 0.63 k$$\n\nFor this system, at $t=\\tau$, the system response will have accumulated 63% of its steady state value.\n\nThe step input is just one of the test inputs we usually use; we'll look at a few more as the course progresses (such as sinusoidal waves, delta functions, etc.).","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"ch2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.353","bibliography":["references.bib"],"markdown_extensions":["admonition"],"theme":{"light":["cosmo","theme-light.scss"],"dark":["cosmo","theme-dark.scss"]}},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"ch2.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"block-headings":true,"bibliography":["references.bib"],"markdown_extensions":["admonition"],"documentclass":"scrreprt"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}