<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>System Dynamics - 2&nbsp; The First Order</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch3.html" rel="next">
<link href="./ch1.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./ch2.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The First Order</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">System Dynamics</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General Information</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Course Motivation and Overview</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The First Order</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Our Second Order of Business</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">An Engineering Student’s Butchering of Ma326</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">A Mishmash of Modeling Concepts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Frequency Response</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Dynamic Behavior and Linear Systems</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chaux.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Auxiliary Topics</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preface" id="toc-preface" class="nav-link active" data-scroll-target="#preface">Preface</a></li>
  <li><a href="#gradients-make-stuff-flow" id="toc-gradients-make-stuff-flow" class="nav-link" data-scroll-target="#gradients-make-stuff-flow"><span class="header-section-number">2.1</span> Gradients Make Stuff Flow</a></li>
  <li><a href="#the-rc-circuit-and-final-generalization" id="toc-the-rc-circuit-and-final-generalization" class="nav-link" data-scroll-target="#the-rc-circuit-and-final-generalization"><span class="header-section-number">2.2</span> The RC Circuit and Final Generalization</a></li>
  <li><a href="#lets-throw-in-an-input" id="toc-lets-throw-in-an-input" class="nav-link" data-scroll-target="#lets-throw-in-an-input"><span class="header-section-number">2.3</span> Let’s Throw in an Input</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The First Order</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="preface" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="preface">Preface</h2>
<p>We’ll grow more accustomed to the idea of analogical models after modeling a few simple systems. Let’s start by throwing out some fundamental systems and developing intuition to dive into simplified models.</p>
<ul>
<li>Emptying a water tank</li>
<li>Cooling of a lightbulb</li>
<li>Discharge of an RC circuit</li>
</ul>
</section>
<section id="gradients-make-stuff-flow" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="gradients-make-stuff-flow"><span class="header-section-number">2.1</span> Gradients Make Stuff Flow</h2>
<p>A cylindrical tank has a cross-sectional area of <span class="math inline">\(A\)</span>, and an outflow rate of <span class="math inline">\(Q_\text{out}\)</span>. The water height is governed by the function <span class="math inline">\(h(t)\)</span>. The pressure outside the tank is <span class="math inline">\(P_{\infty}\)</span>, and the fluid has a density of <span class="math inline">\(\rho\)</span>. Can we derive a governing equation for this system in terms of <span class="math inline">\(\Delta P = P - P_{\infty}\)</span>, where <span class="math inline">\(P(t)\)</span> is the pressure at the bottom of the tank?</p>
<p><img src="figs/2_tank.png" class="img-fluid" style="width:65.0%"></p>
<p>First off, because the tank is cylindrical, it’s apparent that the volume <span class="math inline">\(V(t)\)</span> of water in the tank is proportional to the value of <span class="math inline">\(h(t)\)</span>.</p>
<p><span class="math display">\[V(t) = A h(t)\]</span></p>
<p>Because of conservation of mass, we know the rate at which the volume is changing is the difference between the inflow and the outflow.</p>
<p><span class="math display">\[\frac{d}{dt} V(t) = \dot{V} = 0 -Q_\text{out} = -Q_\text{out} \tag{1}\]</span></p>
<p>That’s not very useful yet. Let’s leverage some prior circuits knowledge here…charge moves because of a voltage difference <span class="math inline">\(\Delta V\)</span>, and comparably, fluid moves because of a pressure difference.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Ohm’s law! We’ll come back to that, but the main takeaway here is that the outflow <span class="math inline">\(Q_\text{out}\)</span> is related to the difference between the pressure inside the tank <span class="math inline">\(P(t)\)</span> and the atmospheric pressure <span class="math inline">\(P_\infty\)</span> by a “resistance” value <span class="math inline">\(R\)</span>.</p>
<p>That circuits analogy comes in handy really often, because it turns out Ohm’s law translates directly into fluid flow.</p>
<p><span class="math display">\[\Delta V = V - V_0 = IR\]</span> <span class="math display">\[\Delta P = P(t) - P_\infty = Q_\text{out} R \tag{2}\]</span></p>
<p>These are called <strong>constitutive equations</strong>, or relationships between physical quantities that establish a connection between a material’s internal response (like stress, strain, or deformation) and the external factors that influence it (like temperature, pressure, or applied loads).</p>
<p>We’ll generalize a bit soon, but for now I understand if you don’t get it. It’s still very hand-wavey.</p>
<p>Let’s leverage some hydrostatics now. Assuming the tank is open to the atmosphere at the top, we can derive an expression for <span class="math inline">\(\Delta P\)</span> using the hydrostatic pressure equation <span class="math inline">\(\Delta P = \rho g \Delta h\)</span>.</p>
<p><span class="math display">\[\Delta P = P(t) - P_\infty = \rho g \left(h(t) \right) = \frac{\rho g V}{A}\tag{3}\]</span></p>
<p>Differentiating equation (3) yields the following:</p>
<p><span class="math display">\[ \dot{P} = \frac{\rho g \dot{V}}{A} \]</span></p>
<p>Using equations (1) and (2), we can manipulate this equation into a differential equation in terms of pressure differences.</p>
<p><span class="math display">\[ \dot{P} = \frac{\rho g \left(- Q_\text{out} \right)}{A} = \frac{- \rho g \Delta P}{A R}\]</span></p>
<p><span class="math display">\[\dot{P} + \frac{\rho g}{A R} \Delta P = 0\]</span></p>
<p><span class="math display">\[R \left( \frac{A}{\rho g}\right) \dot{P} + \Delta P = 0\]</span></p>
<p>This is a neat little differential equation. It looks like the equation for an RC circuit if you’ve seen those before, with the voltage differences swapped out for pressure differences. To really drive this comparison home, we define a “capacitance” <span class="math inline">\(C = \frac{A}{\rho g}\)</span> and slot it into our governing equation.</p>
<p><span class="math display">\[\boxed{RC \dot{P} + \Delta P = 0}\]</span></p>
<p>Perfect. Note that this isn’t the only possible governing equation of the system - it’s also possible to find a differential equation in terms of volume <span class="math inline">\(V(t)\)</span>. Give it a go!</p>
<p>Let’s move onto a second example: the cooling of a lightbulb. When we shut off power to the lightbulb, how can we measure its temperature as it cools to room temperature?</p>
<p><img src="figs/2_bulb.png" class="img-fluid" style="width:65.0%"></p>
<p>The bulb is initially very hot (with temperature <span class="math inline">\(T\)</span>) compared to its environment (which has temperature <span class="math inline">\(T_\infty\)</span>). Heat is flowing outwards at <span class="math inline">\(q_\text{out}\)</span>. This is seeming very familiar…a temperature difference is driving heat to leave through the resistance <span class="math inline">\(R\)</span> of the bulb.</p>
<p>Let’s go through the steps again. Energy’s being conserved here, so we use the capacitive relationship relating accumulated heat <span class="math inline">\(Q\)</span> and temperature <span class="math inline">\(T\)</span> from ESC330:</p>
<p><span class="math display">\[\Delta Q = C \Delta T\]</span></p>
<p>Differentiate across the board…</p>
<p><span class="math display">\[\frac{d}{dt} \left(C \Delta T \right) = C\dot{T} = -q_\text{out}\]</span></p>
<p>And now we’re just chugging through the motions. Next is another constitutive relationship (which looks shudderingly close to Ohm’s law!):</p>
<p><span class="math display">\[\Delta T = T - T_\infty = q_\text{out} R\]</span></p>
<p>We combine the last two equations and construct:</p>
<p><span class="math display">\[\boxed{RC \dot{T} + \Delta T = 0}\]</span></p>
<p>Again. Familiar. Very familiar. Maybe there’s some unifying theory in the background here. We’ll generalize that equation to what we call its <strong>canonical form</strong> <span class="math inline">\(\tau \dot{y} + y = 0\)</span>, a first order differential equation. Let’s throw in an initial condition <span class="math inline">\(y(0)=y_0\)</span> just so we don’t have any undetermined constants at the end.</p>
<p>To solve this differential equation, we’ll guess a solution <span class="math inline">\(y(t) = ce^{\alpha t}\)</span>, find its time derivative <span class="math inline">\(\dot{y}(t) = \alpha ce^{\alpha t} = \alpha y\)</span>, and plug in.</p>
<p><span class="math display">\[\tau \dot{y} + y = 0\]</span> <span class="math display">\[\tau \alpha e^{\alpha t} + e^{\alpha t} = 0\]</span> <span class="math display">\[(\tau \alpha + 1) \; e^{\alpha t} = 0\]</span> <span class="math display">\[\alpha = -\frac{1}{\tau}\]</span> <span class="math display">\[y(t) = ce^{-\frac{t}{\tau}} = y_0 \; e^{-\frac{t}{\tau}}\]</span></p>
<p>If you look at the graph below, it’s just exponential decay from <span class="math inline">\((0, y_0)\)</span>. We call <span class="math inline">\(\tau\)</span> the <strong>time constant</strong> of the system, and it’s commonly used to describe how quickly an exponential decays or grows. Different systems have different time constants. (Notably, <span class="math inline">\(RC\)</span> always has units of time). The smaller the time constant, the faster the decay. (Assume for the figure below that <span class="math inline">\(\tau_1 = 10\)</span> and <span class="math inline">\(\tau_2 = 5\)</span>.)</p>
<p>So what happens when we set <span class="math inline">\(t=\tau\)</span>? Let’s plug it in and find out.</p>
<p><span class="math display">\[y(\tau) = y_0 e^{-\frac{\tau}{\tau}} = y_0 e^{-1}\]</span></p>
<p>So the time constant is the time at which the system response has decayed to <span class="math inline">\(y_0 e^{-1}\)</span>, or approximately 37% of its initial value. We can also reframe this definition as, “the time constant is the time at which the system response has lost approximately 63% of its initial value”.</p>
</section>
<section id="the-rc-circuit-and-final-generalization" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="the-rc-circuit-and-final-generalization"><span class="header-section-number">2.2</span> The RC Circuit and Final Generalization</h2>
<p>Say we have an RC circuit with a full capacitor.</p>
<p>The outflow of charge from the capacitor is represented as a negative current: <span class="math display">\[\dot{q} = -I_\text{out}\]</span></p>
<p>Here’s Ohm’s law: <span class="math display">\[\Delta V = I_\text{out} R = -\dot{q} R\]</span> <span class="math display">\[\dot{q} = -\frac{\Delta V}{R}\]</span></p>
<p>Finally, we deal in the capacitive relationship (from Ph213): <span class="math display">\[q = C\Delta V\]</span></p>
<p>We differentiate the capacitive relationship in order to set these equations equal to each other and get:</p>
<p><span class="math display">\[C\dot{V} = -\frac{\Delta V}{R}\]</span> <span class="math display">\[\boxed{RC \dot{V} + \Delta V = 0}\]</span></p>
<p>which is the same equation we’ve gotten before. (Notably, we don’t have to have this equation in terms of the voltage difference; as you’ll see in ESC221 this semester, there’s a form of the equation in terms of current as well.)</p>
<p>Final takeaways:</p>
<ul>
<li>Most first order systems we’ll analyze in this class are the same mathematically!</li>
<li><strong>Level differences (gradients) make stuff flow.</strong></li>
</ul>
<p>“Stuff” isn’t the greatest word for something like this, (maybe quantity or ‘energy’ instead?) but that’s the best we have. Stuff can be stored, like charge in a capacitor, or fluid in a tank, or heat in a reservoir. However, by generalizing these quantities, we can create widely applicable rules for modeling first order systems.</p>
<p><span class="math display">\[\text{Stuff} = \text{Capacitance} \times \text{Level Difference}\]</span> <span class="math display">\[\text{Level Difference} = \text{Flow of Stuff} \times \text{Resistance}\]</span></p>
<p>Also conservation. That’s a biggie. <span class="math display">\[\text{Rate of Change of Stuff} = \text{Inflow} - \text{Outflow}\]</span></p>
<p>We’ve only discussed scenarios where there isn’t anything flowing in thus far. In these cases, to solve nonhomogeneous differential equations, we’ll have to use more specialized methods from Ma240 instead of guessing and praying, like the Laplace transform or the method of undetermined coefficients (or as I affectionately call it, MUC).</p>
</section>
<section id="lets-throw-in-an-input" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="lets-throw-in-an-input"><span class="header-section-number">2.3</span> Let’s Throw in an Input</h2>
<p>A more simple form of the governing equation for one of these first order systems is:</p>
<p><span class="math display">\[\tau \dot{y} + y = ku\]</span></p>
<p>when we have a constant input. Think of it as turning on a light switch at time <span class="math inline">\(t=0\)</span>. <span class="math inline">\(k\)</span> is just a scale factor, and <span class="math inline">\(u = u_s(t)\)</span>, where <span class="math inline">\(u_s\)</span> is the unit step function, which is just <span class="math inline">\(0\)</span> when <span class="math inline">\(t&lt;0\)</span> and <span class="math inline">\(1\)</span> when <span class="math inline">\(t&gt;0\)</span>.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p><span class="math display">\[y(t) = ce^{-\frac{t}{\tau}} + k\]</span></p>
<p>For the initial condition <span class="math inline">\(y(0) = y_0\)</span>, the undetermined coefficient <span class="math inline">\(c=y_0 - k\)</span>. Here’s our updated solution:</p>
<p><span class="math display">\[y(t) = y_0 e^{-\frac{t}{\tau}} + k(1-e^{-\frac{t}{\tau}})\]</span></p>
<p>When we graph this function for <span class="math inline">\(y_0 = 0\)</span>, we see that it gradually grows towards <span class="math inline">\(y=k\)</span> as <span class="math inline">\(t\to\infty\)</span>. Now we can analyze exponential growth. You see this behavior everywhere, like when you change a thermostat setting and the temperature slowly creeps towards your choice. This is what we call a <strong>step response</strong>.</p>
<p>How could we find the time constant of this response? Let’s take a look at what happens to <span class="math inline">\(y(t)\)</span> at <span class="math inline">\(t=\tau\)</span>.</p>
<p><span class="math display">\[y(\tau) = y_0 e^{-\frac{\tau}{\tau}} + k(1-e^{-\frac{\tau}{\tau}})= y_0 e^{-1} + k(1-e^{-1})\]</span></p>
<p>When we set <span class="math inline">\(y_0 = 0\)</span>, this further simplifies to:</p>
<p><span class="math display">\[y(\tau) = k(1-e^{-1}) \approx 0.63 k\]</span></p>
<p>For this system, at <span class="math inline">\(t=\tau\)</span>, the system response will have accumulated 63% of its steady state value.</p>
<p>The step input is just one of the test inputs we usually use; we’ll look at a few more as the course progresses (such as sinusoidal waves, delta functions, etc.).</p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Note that <span class="math inline">\(V\)</span> here refers to voltage, and not volume as previously defined. This contingency also holds true for Ohm’s law as defined below.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>We don’t care about what happens at <span class="math inline">\(t=0\)</span>. Stop it.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch1.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Course Motivation and Overview</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch3.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Our Second Order of Business</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>